package models

import (
	"fmt"
)

type Token struct {
	ID         int      `gorm:"primaryKey;autoIncrement;not null;unique" json:"id"`
	SecurityId int      `gorm:"not null" json:"-"`
	Security   Security `gorm:"constraint:OnUpdate:CASCADE,OnDelete:CASCADE;" json:"-"`
	Token      string   `gorm:"not null" json:"Token"`
}

// Champ Security
func (u *Token) GetSecurity() Security {
	return u.Security
}

func (u *Token) SetSecurity(Security Security) error {
	u.Security = Security
	return nil
}

// Champ Token
func (u *Token) GetToken() string {
	return u.Token
}

func (u *Token) SetToken(Token string) error {
	if len(Token) == 0 {
		return fmt.Errorf("Le champ ne peut pas Ãªtre vide")
	}
	u.Token = Token
	return nil
}
